
<html>
<body>
<h1>Embed</h1>
<iframe id="wwiframe" src="https://ui.uat.upcp.wirewheel.io/18/welcome" width="100%" height="1500px"></iframe>
<script type="text/javascript">
  window.WireWheelUPCPConfig = {
        'wwupcp_apiurl': 'https://api.uat.upcp.wirewheel.io/v2',
        'wwupcp_apikey': 'eyJicmFuZElkIjoiMkd1QWVoTUN5YWdhcHkwanhRVXh3SnRhSTNrIiwiY2hhbm5lbElkIjoiMklCY0gxY3d2aHVoeDZpNFZtMVJLR1V0eTVHIiwidGVuYW50SWQiOiI2MmQ2MzE4M2IyNTk5Zjk5ZGY3ZGJmODcifQ==',
        'wwupcp_cookie_domain': '.github.io',
        'wwupcp_cookie_duration': 365,
        'wwupcp_cmp_default_consents': [
           {
              'target': 'doNotSell',
              'action': 'ACCEPT'
           },
        ],
     };
</script>
<script type="text/javascript" src="https://ui.uat.upcp.wirewheel.io/extensions/upcp-sdk-0.8.2.min.js"></script>
<script type="text/javascript" src="https://ui.uat.upcp.wirewheel.io/extensions/upcp-sdk-bridge-1.3.0.min.js"></script>
<script type="text/javascript">
    // Initializes the Embedded SDK
    const { WireWheelSDK } = window.cmpJavascriptSdk
    const embeddedHandler = WireWheelSDK.initEmbeddedParent({
      targetIframe: document.getElementById("wwiframe")
    })

    // Listen events in child application
    embeddedHandler.on('login', (message) => {
      logMessage(message)
    })

    embeddedHandler.on('logout', (message) => {
      logMessage(message)
    })

    embeddedHandler.on('consent:write', (message) => {
      const { actions } = message.data
      logMessage(message)
    })

    function logMessage(message) {
      console.log(message);
    }
  </script>
</body>
</html>